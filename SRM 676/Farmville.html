<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>TopCoder SRM 676 - 1000: Farmville</title>
    
    <link type="image/x-icon" rel="shortcut icon" href="http://www.topcoder.com/i/favicon.ico"/>
    

    
    <style type="text/css">
        /* font */
body {
    font-family: Helvetica, Arial, Verdana, sans-serif;
    font-size: 16px;
    line-height: 1.2em;
}
ul.constraints > li:before, ul.notes > li:before {
    font-family: monospace;
    font-weight: normal;
}
.heading {
    font-weight: bold;
    font-size: 175%;
    line-height: 1.2em;
}
.section .section-title {
    font-weight: bold;
    font-size: 125%;
}
ol.testcases > li:before {
    font-family: monospace;
}
type {
    font-weight: bold;
    font-family: monospace;
}
li.testcase .data {
    font-family: monospace;
    line-height: 1.5em;
}

/* layout */
.heading {
    margin-top: 0.1em;
    margin-bottom:0.1em;
    text-align: center;
}
.section .section-title {
    margin-top : 1em;
    margin-bottom: 1em;
}
.problem-intro, note, user-constraint {
    padding-left: 1.25em;
}

/* Lists */
ul.constraints, ul.notes, ul.variables, ul.problem-definition-lines {
    list-style-type: none;
    padding: 0px;
}
ul.constraints > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}
ul.notes > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}

/* Testcases */
li.testcase {
    line-height: 1.1em;
    padding-top: 0.625em;
    padding-bottom: 0.625em;
    overflow: auto;
}
li.testcase > .testcase-content > div { padding-bottom: 0.5em; padding-left: 1em; }

li.testcase .testcase-comment {
    margin: 0;
    padding-left: 1em;
}
.testcase-comment p:first-child { margin-top: 0; }
.testcase-comment p:last-child { margin-bottom: 0; }

li.testcase .testcase-content {
    margin: 0.31em;
}

/* Data and variables */
.testcase-output {
    padding: 0.2em 1em 0.2em 0em;
}
.variables, .testcase-output {
    margin-left: 0.5em;
    display: table;
    margin-bottom: 0px;
    margin-top: 0px;
}
.variable {
    display: table-row;
}
.variable .name {
    padding: 0.2em 0em 0.2em 1em;
    font-weight: bold;
    display: table-cell;
    text-align: right;
}
.testcase-output .prefix {
    padding: 0.2em 0em 0.2em 1em;
    display: table-cell;
}
.testcase-output .prefix:after {
    content : ":";
    padding-right: 0.5em;
}
.variable .name:after {
    font-weight: bold;
    content : ":";
    padding-right: 0.5em;
}
.variable .value, .testcase-output .value {
    padding: 0.2em 1em 0.2em 0em;
    display: table-cell;
}
ol.testcases {
    padding: 0px;
    counter-reset: test_number -1;
}
ol.testcases > li {
    list-style:none;
}
ol.testcases > li:before {
    counter-increment:test_number;
    display: block;
    clear: both;
    content:counter(test_number) ")";
    color: inherit;
    background: inherit;
}

/* Problem Definition */
.problem-definition, .problem-limits {
    padding-left: 1.25em;
}
.problem-definition-lines, .limit-lines {
    display: table;
    margin-top: 0px;
    margin-bottom: 0px;
    padding-left: 0px;
}
.definition-line, .limit-line {
    display: table-row;
    height: 1.5em;
    overflow: auto;
}
.limit-name:after {
    content: ":";
    margin-right: 1em;
}
.definition-name, .definition-value, .limit-name, .limit-value {
    display: table-cell;
}
.definition-value {
    padding-left: 0.5em;
}
.definition-name:after {
    content: ":";
}
#contest-division:before {
    content: "Div ";
}
#problem-score:before {
    content: "- Problem ";
}
#problem-name {
    display: block;
}

/* Tags, hidden default */
.tag {
    visibility: hidden;
    position: absolute;
}

        body {
    /* font color */
    color: #333333;
    /* background color */
    background-color: white;
}
.section .section-title {
    /* title color */
    color: black;
}
li.testcase .data {
    /* highlight color */
    background: #eee;
}

    </style>
    
    
    

</head>

<body>
    <h1 class="heading">
        <span id='contest-name'>SRM 676</span>
        <span id='contest-division'>1</span>
        <span id='problem-score'>1000</span>
        <span id='problem-name'>Farmville</span>
    </h1>

    <hr />

    <!-- Problem Statement -->
    <div class="section">
        <h2 class="section-title">Problem Statement</h2>
        <div class="problem-intro">
            <intro escaped="1"><p>
<i>
This problem has a non-standard time limit: 5 seconds.
</i>
</p>

<p>
Farmer John recently found out about a popular online farming game.
</p>

<p>
There are n types of plants in the game.
The types are numbered 0 through n-1.
</p>

<p>
Growing a plant consists of four steps:
<ul>
<li>Farmer John must acquire a seed of the plant. This is described below in more detail.</li>
<li>He must plant the seed. He can do this instantaneously. He can have arbitrarily many plants growing at the same time.</li>
<li>The seed of plant i will grow for <b>time</b>[i] seconds until it becomes a fully developed plant.</li>
<li>Farmer John will harvest the plant. He can do this instantaneously.</li>
</ul>
</p>

<p>
Some plants have prerequisites.
These are described by the <type>String[]</type> <b>s</b>.
For each i, <b>s</b>[i] is a string of n zeros and ones.
If the character <b>s</b>[i][j] is '1', Farmer John must have a fully grown plant j before he can acquire a seed of plant i.
As soon as all prerequisites for plant i are satisfied, Farmer John will immediately acquire its seed.
It is guaranteed that the prerequisites are not cyclic: there will be a way for Farmer John to eventually grow a plant of each type.
</p>

<p>
Note that a single grown plant can be used to satisfy multiple prerequisites.
For example, if both plant 0 and plant 1 require John to grow plant 2 first, he only has to grow a single plant of type 2 in order to &quot;unlock&quot; both plant 0 and plant 1.
</p>

<p>
There is one final complication:
Farmer John has <b>budget</b> coins.
He can spend these coins to make his plants grow faster.
For each i, Farmer John may pay <b>cost</b>[i] coins to reduce <b>time</b>[i] by 1.
Farmer John may pay for the same plant multiple times, each time decreasing its growing time by 1.
Obviously, the growing time cannot be reduced below 0.
</p>

<p>
You are given the <type>String[]</type> <b>s</b>, the <type>int[]</type>s <b>time</b> and <b>cost</b>, and the <type>int</type> <b>budget</b>.
Determine and return the minimum amount of time in which Farmer John can fully grow one plant of each type.
</p></intro>
        </div>
    </div>
    
    <!-- Problem definition -->
    
    <div class="section" id="definition">
        <h2 class="section-title">Definition</h2>
        <div class="problem-definition">
            <ul class="problem-definition-lines">
                <li class="definition-line" id='class-line'>
                    <span class='definition-name'>Class</span>
                    <span class='definition-value'>Farmville</span>
                </li>
                <li class="definition-line" id='method-line'>
                    <span class='definition-name'>Method</span>
                    <span class='definition-value'>minTime</span>
                </li>
                <li class="definition-line" id='parameters-line'>
                    <span class='definition-name'>Parameters</span>
                    <span class='definition-value'>
                    
                        vector&lt;string&gt;
                    , 
                        vector&lt;int&gt;
                    , 
                        vector&lt;int&gt;
                    , 
                        int
                    
                    </span>
                </li>
                <li class="definition-line" id='returns-line'>
                    <span class='definition-name'>Returns</span>
                    <span class='definition-value'>
                        int
                    </span>
                </li>
                <li class="definition-line" id='signature-line'>
                    <span class='definition-name'>Method signature</span>
                    <span class='definition-value'>
                        int minTime(vector&lt;string&gt; s, vector&lt;int&gt; time, vector&lt;int&gt; cost, int budget)
                    </span>
                </li>
            </ul>
            <div class="problem-definition-public-tip">(be sure your method is public)</div>
        </div>        
    </div>
    

    <!-- Limits -->
    <div class="section">
        <h2 class="section-title">Limits</h2>
        <div class='problem-limits'>
            <ul class="limit-lines">
                <li class='limit-line'>
                    <span class='limit-name'>Time limit (s)</span>
                    <span class='limit-value'>5.000</span>
                </li>
                <li class='limit-line'>
                    <span class='limit-name'>Memory limit (MB)</span>
                    <span class='limit-value'>256</span>
                </li>
            </ul>
        </div>
    </div>

    
    
    <!-- Constraints -->
    <div class="section">
        <h2 class="section-title">Constraints</h2>
        <ul class="constraints">
        
            <li><user-constraint escaped="1">n will be between 2 and 50, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1"><b>s</b> will have exactly n elements.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each element of <b>s</b> will contain exactly n characters.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each character of <b>s</b>[i] will either be '0' or '1'.</user-constraint></li>
        
            <li><user-constraint escaped="1">There will only be at most 50 '1' characters among all characters in all elements of <b>s</b>.</user-constraint></li>
        
            <li><user-constraint escaped="1">It is guaranteed that it is possible to grow at least one plant of each type given the constraints in <b>s</b>.</user-constraint></li>
        
            <li><user-constraint escaped="1"><b>time</b> will have exactly n elements.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each element of <b>time</b> will be between 1 and 25, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1"><b>cost</b> will have exactly n elements.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each element of <b>cost</b> will be between 1 and 10^9, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1"><b>budget</b> will be between 0 and 10^9, inclusive.</user-constraint></li>
        
        </ul>
    </div>

    <!-- Test cases -->
    <div class="section">
        <h2 class="section-title">Test cases</h2>
        <ol class="testcases" start='0'>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">s</span>
                                <span class="value data">
                                
                                    {&quot;000&quot;,<br />&nbsp;&quot;000&quot;,<br />&nbsp;&quot;000&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">time</span>
                                <span class="value data">
                                
                                    { 25, 15, 10 }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">cost</span>
                                <span class="value data">
                                
                                    { 1, 2, 3 }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">budget</span>
                                <span class="value data">
                                
                                    50
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            6
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment"><p>
There are no prerequisites.
Hence, Farmer John will acquire all three seeds at time 0 and he will plant them all simultaneously.
If he didn't spend any coins, the process would be over at time 25 when the plant of type 0 finally becomes fully developed.
He can improve that time by spending his 50 coins.
</p>

<p>
One optimal solution looks as follows:
<ul>
<li>He will spend 19 coins on plant 0, decreasing its growing time from 25 to 25 - 19 = 6.</li>
<li>He will spend 18 coins on plant 1. As <b>cost</b>[1]=2, every 2 coins decrease the time by 1. Hence, plant 1 will now grow in 15 - (18/2) = 15 - 9 = 6 units of time.</li>
<li>He will spend 12 coins on plant 2. These will decrease its growing time by 12/3 = 4, which means it drops from 10 to 10 - 4 = 6.</li>
<li>He will have 1 unused coin.</li>
</ul>
</p></div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">s</span>
                                <span class="value data">
                                
                                    {&quot;0000&quot;,<br />&nbsp;&quot;1000&quot;,<br />&nbsp;&quot;0100&quot;,<br />&nbsp;&quot;0010&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">time</span>
                                <span class="value data">
                                
                                    { 25, 25, 25, 25 }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">cost</span>
                                <span class="value data">
                                
                                    { 100, 200, 300, 400 }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">budget</span>
                                <span class="value data">
                                
                                    2800
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            74
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">In this test case Farmer John must grow his plants sequentially in the order 0,1,2,3.
If he didn't pay anything, this would take 25 + 25 + 25 + 25 = 100 units of time.
One optimal solution is to spend 2500 coins on the plant 0 (making it grow in zero time) and the remaining 300 coins on plant 2 (decreasing its growing time by 1).
Thus, in this solution the total growing time is 0 + 25 + 24 + 25 = 74.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">s</span>
                                <span class="value data">
                                
                                    {&quot;01110&quot;,<br />&nbsp;&quot;00010&quot;,<br />&nbsp;&quot;00000&quot;,<br />&nbsp;&quot;00000&quot;,<br />&nbsp;&quot;10000&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">time</span>
                                <span class="value data">
                                
                                    { 25, 10, 23, 12, 5 }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">cost</span>
                                <span class="value data">
                                
                                    { 123, 456, 789, 1011, 1213 }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">budget</span>
                                <span class="value data">
                                
                                    1000000000
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            0
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">s</span>
                                <span class="value data">
                                
                                    {&quot;00&quot;,<br />&nbsp;&quot;00&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">time</span>
                                <span class="value data">
                                
                                    { 25, 25 }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">cost</span>
                                <span class="value data">
                                
                                    { 1000000000, 1000000000 }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">budget</span>
                                <span class="value data">
                                
                                    1000000000
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            25
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">s</span>
                                <span class="value data">
                                
                                    {&quot;0000000000000000&quot;,<br />&nbsp;&quot;1000000000000000&quot;,<br />&nbsp;&quot;1000000000000000&quot;,<br />&nbsp;&quot;0100000000000000&quot;,<br />&nbsp;&quot;0110000000000000&quot;,<br />&nbsp;&quot;0010000000000000&quot;,<br />&nbsp;&quot;0001000000000000&quot;,<br />&nbsp;&quot;0001100000000000&quot;,<br />&nbsp;&quot;0000110000000000&quot;,<br />&nbsp;&quot;0000010000000000&quot;,<br />&nbsp;&quot;0000001100000000&quot;,<br />&nbsp;&quot;0000000110000000&quot;,<br />&nbsp;&quot;0000000011000000&quot;,<br />&nbsp;&quot;0000000000110000&quot;,<br />&nbsp;&quot;0000000000011000&quot;,<br />&nbsp;&quot;0000000000000110&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">time</span>
                                <span class="value data">
                                
                                    { 24, 25, 23, 25, 23, 24, 25, 24, 23, 22, 25, 24, 23, 25, 23, 25 }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">cost</span>
                                <span class="value data">
                                
                                    { 82912, 129482, 235934, 3294812, 523942, 460492, 349281, 592384, 109248, 2305923, 340945, 2304934, 582396, 548935, 767872, 423981 }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">budget</span>
                                <span class="value data">
                                
                                    87654321
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            49
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">s</span>
                                <span class="value data">
                                
                                    {&quot;000&quot;,<br />&nbsp;&quot;100&quot;,<br />&nbsp;&quot;110&quot;}
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">time</span>
                                <span class="value data">
                                
                                    { 3, 18, 1 }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">cost</span>
                                <span class="value data">
                                
                                    { 242949, 8471, 54403957 }
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">budget</span>
                                <span class="value data">
                                
                                    53867
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            16
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
        </ol>
    </div>
    <hr />

    This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2003, TopCoder, Inc. All rights reserved.
</body>
</html>
